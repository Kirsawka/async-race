(()=>{"use strict";var e={602:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),i=t.n(r),o=t(645),a=t.n(o)()(i());a.push([e.id,"body {\r\n    margin: 0;\r\n}\r\n\r\nbody::-webkit-scrollbar {\r\n    width: 0;\r\n}\r\n\r\n.container {\r\n    max-width: 1600px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n}\r\n\r\n.form {\r\n    display: flex;\r\n    align-items: center;\r\n    column-gap: 5px;\r\n    margin: 20px 0;\r\n}\r\n\r\n.cars {\r\n    display: flex;\r\n    flex-direction: column;\r\n    row-gap: 20px;\r\n}\r\n\r\n.car-change-buttons {\r\n    display: inline-flex;\r\n    margin: 10px 10px 0 0;\r\n    column-gap: 5px;\r\n}\r\n\r\n.car {\r\n    position: relative;\r\n}\r\n\r\n.car-icon {\r\n    height: 60px;\r\n    width: 80px;\r\n}\r\n\r\n.flag-wrapper {\r\n    position: absolute;\r\n    right: 100px;\r\n    bottom: 20px;\r\n}\r\n\r\n.finish-icon {\r\n    width: 70px;\r\n    height: 70px;\r\n    fill: #cb2929;\r\n}\r\n\r\n.car-container {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.car-control-buttons {\r\n    display: flex;\r\n    margin: 0 15px 15px 0;\r\n    column-gap: 5px;\r\n}\r\n\r\n.car-container::after {\r\n    content: '';\r\n    background-color: black;\r\n    height: 3px;\r\n    display: block;\r\n    position: absolute;\r\n    bottom: 18px;\r\n    left: 0;\r\n    width: 100%;\r\n}\r\n\r\nbutton {\r\n    cursor: pointer;\r\n}\r\n\r\n.table {\r\n    display: grid;\r\n    grid-template-columns: repeat(5, auto);\r\n    margin-top: 30px;\r\n}\r\n\r\n.first-row.row {\r\n    background-color: #6363ee;\r\n    font-size: 30px;\r\n}\r\n\r\n.row {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    border: 2px solid black;\r\n}\r\n\r\n.message {\r\n    font-size: 40px;\r\n    font-weight: 600;\r\n    font-style: italic;\r\n    color: #1f1fad;\r\n    padding: 30px;\r\n    background-color: #d9d9d9;\r\n    width: 50%;\r\n    text-align: center;\r\n    border-radius: 10px;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    display: none;\r\n}\r\n\r\n.arrow {\r\n    margin-left: 10px;\r\n    font-size: 25px;\r\n}\r\n\r\n.sort {\r\n    cursor: pointer;\r\n}\r\n\r\n.sort:hover {\r\n    color: #b3b4e0;\r\n}",""]);const s=a},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(a[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),n.push(l))}},n}},81:e=>{e.exports=function(e){return e[1]}},654:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var r=t(379),i=t.n(r),o=t(380),a=t.n(o),s=t(569),d=t.n(s),c=t(565),l=t.n(c),u=t(216),f=t.n(u),v=t(589),g=t.n(v),p=t(602),m={};m.styleTagTransform=g(),m.setAttributes=l(),m.insert=d().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f(),i()(p.Z,m);const y=p.Z&&p.Z.locals?p.Z.locals:void 0},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var d=e[s],c=r.base?d[0]+r.base:d[0],l=o[c]||0,u="".concat(c," ").concat(l);o[c]=l+1;var f=t(u),v={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==f)n[f].references++,n[f].updater(v);else{var g=i(v,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:g,references:1})}a.push(u)}return a}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=t(o[a]);n[s].references--}for(var d=r(e,i),c=0;c<o.length;c++){var l=t(o[c]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}o=d}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},380:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},205:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.toogleView=n.setPaginationDisabled=n.getNewWinners=n.getNewCars=n.drawWinners=n.drawGarage=n.setWinnersPagesCount=n.setPagesCount=n.setCurrentWinnersPage=n.setCurrentPage=void 0;const o=t(137),a=t(647),s=i(t(523));n.setCurrentPage=e=>r(void 0,void 0,void 0,(function*(){yield(0,a.getCars)(e),localStorage.setItem("carsPage",String(e)),s.default.carsPage=e})),n.setCurrentWinnersPage=e=>r(void 0,void 0,void 0,(function*(){const n=s.default.order,t=s.default.sort;yield(0,a.getWinners)(e,t,n),localStorage.setItem("winnersPage",String(e)),s.default.winnersPage=e})),n.setPagesCount=()=>{const e=s.default.carsCount;if(+e>=7){const n=+e%7==0?+e/7:Math.floor(+e/7)+1;s.default.carsPagesCount=n,localStorage.setItem("carsPagesCount",String(n))}},n.setWinnersPagesCount=()=>{const e=s.default.winnersCount;if(+e>=2){const n=+e%2==0?+e/2:Math.floor(+e/2)+1;s.default.winnersPagesCount=n,localStorage.setItem("winnersPagesCount",String(n))}},n.drawGarage=()=>{document.querySelector(".garage-view").innerHTML=(0,o.renderGarage)()},n.drawWinners=()=>{document.querySelector(".winners-view").innerHTML=(0,o.renderWinners)()},n.getNewCars=()=>r(void 0,void 0,void 0,(function*(){const e=s.default.carsPage;yield(0,a.getCars)(e)})),n.getNewWinners=(e,n)=>r(void 0,void 0,void 0,(function*(){const t=s.default.winnersPage;yield(0,a.getWinners)(t,e,n)})),n.setPaginationDisabled=()=>{const e=s.default.carsPage,n=s.default.carsPagesCount;1===e&&(document.getElementById("prev").disabled=!0,document.getElementById("first-page").disabled=!0),e===n&&(document.getElementById("last-page").disabled=!0,document.getElementById("next").disabled=!0)},n.toogleView=()=>{const e=document.getElementById("winners"),n=document.querySelector(".winners-view"),t=document.querySelector(".garage-view"),r=document.getElementById("garage"),i=document.querySelector(".forms"),a=document.querySelector(".main-control-buttons");e.addEventListener("click",(()=>{t.style.display="none",i.style.display="none",a.style.display="none",n.style.display="block",n.innerHTML=(0,o.renderWinners)(),document.getElementById("message").style.display="none"})),r.addEventListener("click",(()=>{n.style.display="none",t.style.display="block",i.style.display="block",a.style.display="block"}))}},523:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0});const t=localStorage.getItem("carsPagesCount"),r=localStorage.getItem("winnersPagesCount"),i={cars:[],allWinners:[],order:"",sort:"",winnersCount:1,winnersPage:1,carsCount:4,carsPage:1,winnersPagesCount:r?+r:1,carsPagesCount:t?+t:1};n.default=i},362:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.stopBrokenAnimation=n.stopAnimation=n.animation=n.getAnimationParam=void 0;const i=t(647);n.getAnimationParam=e=>r(void 0,void 0,void 0,(function*(){const n=document.getElementById(`flag-wrapper-${e}`).offsetLeft-50,{velocity:t,distance:r}=yield(0,i.startEngine)(+e);return{flagPosition:n,time:Math.round(r/t)}})),n.animation=(e,n,t)=>{let r=0;const i=t/(n/1e3*60);let o;const a=()=>{document.getElementById("race-all").disabled=!0,r+=i,e.style.transform=`translateX(${r}px)`,r<t&&(o=requestAnimationFrame(a)),localStorage.setItem(`requestId-${e.id}`,JSON.stringify(o))};a()},n.stopAnimation=e=>r(void 0,void 0,void 0,(function*(){yield(0,i.stopEngine)(e);const n=yield localStorage.getItem(`requestId-car-${e}`);cancelAnimationFrame(+n),localStorage.removeItem(`requestId-car-${e}`),document.getElementById(`car-${e}`).style.transform="translateX(0)",document.getElementById("race-all").disabled=!1})),n.stopBrokenAnimation=e=>r(void 0,void 0,void 0,(function*(){const{success:n}=yield(0,i.drive)(+e);if(!n){const n=localStorage.getItem(`requestId-car-${e}`);cancelAnimationFrame(+n),localStorage.removeItem(`requestId-car-${e}`)}return n}))},647:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.saveWinner=n.updateWinner=n.deleteWinner=n.createWinner=n.getWinnerStatus=n.getWinners=n.getWinner=n.drive=n.stopEngine=n.startEngine=n.deleteCar=n.updateCar=n.createCar=n.getCar=n.getCars=void 0;const o=i(t(523)),a="http://127.0.0.1:3000",s=`${a}/garage`,d=`${a}/engine`,c=`${a}/winners`;n.getCars=(e,n=7)=>r(void 0,void 0,void 0,(function*(){const t=yield fetch(`${s}?_page=${e}&_limit=${n}`);o.default.cars=yield t.json();const r=t.headers.get("X-Total-Count");o.default.carsCount=+r})),n.getCar=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${s}/${e}`)).json()})),n.createCar=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${s}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()})),n.updateCar=(e,n)=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${s}/${e}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json()})),n.deleteCar=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${s}/${e}`,{method:"DELETE"})).json()})),n.startEngine=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${d}?id=${e}&status=started`,{method:"PATCH"})).json()})),n.stopEngine=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${d}?id=${e}&status=stopped`,{method:"PATCH"})).json()})),n.drive=e=>r(void 0,void 0,void 0,(function*(){const n=yield fetch(`${d}?id=${e}&status=drive`,{method:"PATCH"});return 200!==n.status?{success:!1}:n.json()})),n.getWinner=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${c}/${e}`)).json()})),n.getWinners=(e,t,i,a=10)=>r(void 0,void 0,void 0,(function*(){const t=yield fetch(`${c}?_page=${e}&_limit=${a}&_sort=${o.default.sort}&_order=${o.default.order}`),i=yield t.json(),s=t.headers.get("X-Total-Count"),d=i.map((e=>r(void 0,void 0,void 0,(function*(){const t=e.id;return Object.assign(Object.assign({},e),{car:yield(0,n.getCar)(t)})}))));o.default.allWinners=yield Promise.all(d),o.default.winnersCount=+s})),n.getWinnerStatus=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${c}/${e}`)).status})),n.createWinner=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${c}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json()})),n.deleteWinner=e=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${c}/${e}`,{method:"DELETE"})).json()})),n.updateWinner=(e,n)=>r(void 0,void 0,void 0,(function*(){return(yield fetch(`${c}/${e}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json()})),n.saveWinner=(e,t)=>r(void 0,void 0,void 0,(function*(){if(404===(yield(0,n.getWinnerStatus)(e)))yield(0,n.createWinner)({id:e,wins:1,time:t});else{const r=yield(0,n.getWinner)(e);yield(0,n.updateWinner)(e,{id:e,wins:r.wins+1,time:t<r.time?t:r.time})}}))},904:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.carsPagination=void 0;const o=t(205),a=i(t(523));n.carsPagination=()=>{document.addEventListener("click",(e=>r(void 0,void 0,void 0,(function*(){const n=e.target.id,t=a.default.carsPagesCount;let r=a.default.carsPage;"next"===n&&r<t&&(r++,yield(0,o.setCurrentPage)(r),(0,o.drawGarage)()),"prev"===n&&r>=1&&(r--,yield(0,o.setCurrentPage)(r),(0,o.drawGarage)()),"first-page"===n&&(r=1,yield(0,o.setCurrentPage)(r),(0,o.drawGarage)()),"last-page"===n&&(r=t,yield(0,o.setCurrentPage)(r),(0,o.drawGarage)()),document.getElementById("race-all").disabled=!1,(0,o.setPaginationDisabled)()}))))}},265:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.createNewCar=void 0;const i=t(205),o=t(647);n.createNewCar=()=>{document.getElementById("create-button").addEventListener("click",(e=>r(void 0,void 0,void 0,(function*(){e.preventDefault();const[n,t,r]=(()=>{const e=document.getElementById("create-name"),n=document.getElementById("create-color");return[e,n,{name:e.value,color:n.value}]})();yield(0,o.createCar)(r),yield(0,i.getNewCars)(),(0,i.drawGarage)(),(0,i.setPagesCount)(),(0,i.setPaginationDisabled)(),n.value="",t.value="#000000"}))))}},193:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.engineControl=n.startDriving=void 0;const i=t(362);n.startDriving=e=>r(void 0,void 0,void 0,(function*(){document.getElementById(`start-car-${e}`).disabled=!0,document.getElementById(`stop-car-${e}`).disabled=!1;const n=document.getElementById(`car-${e}`),{flagPosition:t,time:r}=yield(0,i.getAnimationParam)(e);return(0,i.animation)(n,r,t),{success:yield(0,i.stopBrokenAnimation)(e),id:e,time:r}})),n.engineControl=()=>{document.addEventListener("click",(e=>r(void 0,void 0,void 0,(function*(){let t=e.target.id;const o="start-car-",a="stop-car-";t.includes(o)&&(t=t.slice(o.length),yield(0,n.startDriving)(t)),t.includes(a)&&(t=t.slice(a.length),yield(e=>r(void 0,void 0,void 0,(function*(){document.getElementById(`start-car-${e}`).disabled=!1,document.getElementById(`stop-car-${e}`).disabled=!0,yield(0,i.stopAnimation)(+e)})))(t))}))))}},665:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.generateCars=void 0;const o=t(205),a=t(647),s=i(t(523)),d=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],c=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","C3 Aircross","C5 Aircross","Duster","CR-V","Corolla","DS3 Crossback","C1","C3","Berlingo Multispace","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","IS 200t","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Duster","Arkana","Sandero","Logan","Trafic Fourgon","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"],l=()=>{const e="0123456789ABCDEF";let n="#";for(let t=0;t<6;t++)n+=e[Math.floor(Math.random()*e.length)];return n};n.generateCars=()=>{document.getElementById("generate").addEventListener("click",(()=>r(void 0,void 0,void 0,(function*(){const e=Array.from({length:100},(()=>({name:`${d[Math.floor(Math.random()*d.length)]} ${c[Math.floor(Math.random()*c.length)]}`,color:l()})));yield Promise.all(e.map((e=>r(void 0,void 0,void 0,(function*(){return(0,a.createCar)(e)}))))),yield(0,o.getNewCars)(),(0,o.drawGarage)();const n=s.default.carsCount,t=n%7==0?n/7:Math.floor(n/7)+1;localStorage.setItem("carsPagesCount",JSON.stringify(t)),s.default.carsPagesCount=t,(0,o.setPaginationDisabled)()}))))}},682:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.raceAll=void 0;const o=t(205),a=t(647),s=t(362),d=i(t(523));n.raceAll=()=>{document.addEventListener("click",(e=>r(void 0,void 0,void 0,(function*(){if("race-all"===e.target.id){const e=d.default.cars,t=yield(n=e,r(void 0,void 0,void 0,(function*(){const e=n.map((e=>r(void 0,void 0,void 0,(function*(){return(e=>r(void 0,void 0,void 0,(function*(){document.getElementById(`start-car-${e.id}`).disabled=!0;const n=document.getElementById(`car-${e.id}`),t=n.id.slice("car-".length),{flagPosition:r,time:i}=yield(0,s.getAnimationParam)(t);if(yield(0,s.animation)(n,i,r),yield(0,s.stopBrokenAnimation)(t))return{name:e.name,id:+t,time:+(i/1e3).toFixed(2)}})))(e)}))));return(yield Promise.all(e)).filter((e=>void 0!==e))}))),i=[];t.forEach((e=>{e&&e.name&&i.push({name:e.name,id:e.id,time:e.time})}));const c=i.sort(((e,n)=>e.time-n.time))[0];c&&(yield(0,a.saveWinner)(c.id,c.time));const l=d.default.order,u=d.default.sort;yield(0,o.getNewWinners)(u,l),(0,o.setWinnersPagesCount)(),(0,o.setPaginationDisabled)();const f=document.getElementById("message");f.style.display="block",f.innerText=`The winner is ${c.name} with time ${c.time} sec!`}var n}))))}},724:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.removeCar=void 0;const o=t(205),a=t(647),s=i(t(523));n.removeCar=()=>{document.addEventListener("click",(e=>r(void 0,void 0,void 0,(function*(){const n=e.target,t="remove-car-";if(n.id.includes(t)){const e=n.id.slice(t.length);yield(0,a.deleteCar)(+e),yield(0,o.getNewCars)(),200===(yield(0,a.getWinnerStatus)(+e))&&(yield(0,a.deleteWinner)(+e));const r=s.default.order,i=s.default.sort;yield(0,o.getNewWinners)(i,r),(0,o.drawGarage)(),(0,o.setPagesCount)(),(0,o.setPaginationDisabled)()}}))))}},137:function(e,n,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.renderGeneralContent=n.renderWinners=n.renderGarage=n.renderCar=n.renderCarImg=void 0;const i=r(t(523)),o=t(795);n.renderCarImg=e=>`<svg class="car-icon" style="fill: ${e}"><use xlink:href=${o}#car></use></svg>`,n.renderCar=e=>`\n  <div class="car-change-buttons">\n    <button id="select-car-${e.id}">SELECT</button>\n    <button id="remove-car-${e.id}">REMOVE</button>\n  </div>\n  <span>${e.name}</span>\n  <div class="car-container">\n    <div class="car-control-buttons">\n      <button id="start-car-${e.id}">start</button>\n      <button id="stop-car-${e.id}" disabled="true">reset</button>\n    </div>\n    <div id="car-${e.id}">\n      ${(0,n.renderCarImg)(e.color)}\n    </div>\n    <div class="flag-wrapper" id="flag-wrapper-${e.id}">\n      <svg class="finish-icon" id="flag-${e.id}">\n        <use xlink:href="${o}#flag-finish"></use>\n    </svg>\n   </div>\n  </div>`,n.renderGarage=()=>{const e=i.default.cars;return`<h1>Garage (${i.default.carsCount})</h1>\n    <div class="pagination">\n      <button class="first-page" id="first-page"><<</button>\n      <button class="prev" id="prev"><</button>\n      <span>Page #${i.default.carsPage||1}</span>\n      <button class="next" id="next">></button>\n      <button class="last-page" id="last-page">>></button>\n    </div>\n   <div class="cars" id="cars">\n     ${e.map((e=>`\n       <div class="car" id="car-wrapper-${e.id}">${(0,n.renderCar)(e)}</div>\n     `)).join("")}\n   </div>\n  `};const a=e=>{const n=i.default.order;return i.default.sort===e?"DESC"===n?"ðŸ •":"ðŸ —":""};n.renderWinners=()=>{const e=i.default.winnersCount,t=i.default.winnersPage,r=i.default.allWinners;return`<h2>Winners (${e})</h2>\n    <div class="pagination">\n      <button class="prev" id="prev-winners-page"><</button>\n      <span>Page #${t||1}</span>\n      <button class="next" id="next-winners-page">></button>\n    </div>\n    \n  <div class="table">\n    <div class="first-row row">Number</div>\n    <div class="first-row row">Car</div>\n    <div class="first-row row">Name</div>\n    <div class="first-row row sort" id="wins">Wins\n      <span class="arrow" id="wins-arrow">${a("wins")}</span>\n    </div>\n    <div class="first-row row sort" id="time">Best time (seconds)\n      <span class="arrow" id="time-arrow">${a("time")}</span>\n    </div>\n    \n    ${r.map(((e,t)=>`\n    <div class="row">${t+1}</div>\n    <div class="row">${(0,n.renderCarImg)(e.car.color)}</div>\n    <div class="row">${e.car.name}</div>\n    <div class="row">${e.wins}</div>\n    <div class="row">${e.time}</div>\n    `)).join("")}\n  </div>\n  `},n.renderGeneralContent=()=>{const e=`\n    <button id="garage">TO GARAGE</button>\n    <button id="winners">TO WINNERS</button>\n    <div class="forms">\n      <form class="form" id="create">\n        <input type="text" id="create-name" autocomplete="off">\n        <input type="color" id="create-color">\n        <button type="submit" id="create-button">CREATE</button>\n      </form>\n      <form class="form" id="update">\n        <input type="text" id="update-name" autocomplete="off">\n        <input type="color" id="update-color">\n        <button type="submit" id="update-button">UPDATE</button>\n      </form>\n    </div>\n    <div class="main-control-buttons">\n      <button id="race-all">RACE ALL</button>\n      <button id="reset-all">RESET ALL</button>\n      <button id="generate">GENERATE CARS</button>\n    </div>  \n    <div class="garage-view">\n      ${(0,n.renderGarage)()}\n    </div>\n    <p class="message" id="message"></p>\n    <div class="winners-view" style="display: none">\n      ${(0,n.renderWinners)()}\n    </div>\n`;document.body.innerHTML="";const t=document.createElement("div");t.classList.add("container"),t.innerHTML=e,document.body.appendChild(t)}},57:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.resetAll=void 0;const o=t(362),a=i(t(523));n.resetAll=()=>{document.addEventListener("click",(e=>{const n=document.getElementById("message");n.style.display="none",n.innerText="","reset-all"===e.target.id&&(document.getElementById("race-all").disabled=!1,a.default.cars.forEach((e=>r(void 0,void 0,void 0,(function*(){document.getElementById(`start-car-${e.id}`).disabled=!1,e.id&&(yield(0,o.stopAnimation)(e.id))})))))}))}},613:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.sortingWinners=void 0;const o=t(205),a=t(137),s=i(t(523)),d=e=>{let n="ASC"===s.default.order?"DESC":"ASC";return n||(n="ASC"),s.default.order=n,s.default.sort=e,n},c=(e,n)=>{"ASC"===e&&(n.innerText="ðŸ —"),"DESC"===e&&(n.innerText="ðŸ •")};n.sortingWinners=()=>{const e=document.querySelector(".winners-view");document.addEventListener("click",(n=>r(void 0,void 0,void 0,(function*(){const t=n.target.id;if("wins"===t){const e=d(t),n=document.getElementById("wins-arrow");yield(0,o.getNewWinners)(t,e),c(e,n)}if("time"===t){const e=d(t),n=document.getElementById("time-arrow");yield(0,o.getNewWinners)(t,e),c(e,n)}e.innerHTML=(0,a.renderWinners)()}))))}},35:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.selectCar=void 0;const i=t(205),o=t(647);n.selectCar=()=>{document.addEventListener("click",(e=>r(void 0,void 0,void 0,(function*(){const n=e.target,t="select-car-";if(n.id.includes(t)){const e=n.id.slice(t.length);(e=>{const n=document.getElementById("update-name"),t=document.getElementById("update-color");n.value=e.name,t.value=e.color,(e=>{document.getElementById("update-button").addEventListener("click",(n=>r(void 0,void 0,void 0,(function*(){n.preventDefault();const[t,r,a]=(()=>{const e=document.getElementById("update-name"),n=document.getElementById("update-color");return[e,n,{name:e.value,color:n.value}]})();yield(0,o.updateCar)(e,a),yield(0,i.getNewCars)(),(0,i.drawGarage)(),t.value="",r.value="#000000"}))))})(e.id)})(yield(0,o.getCar)(+e))}}))))}},426:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.winnersPagination=void 0;const o=t(205),a=i(t(523));n.winnersPagination=()=>{document.addEventListener("click",(e=>r(void 0,void 0,void 0,(function*(){const n=e.target.id;let t=a.default.winnersPage;const r=a.default.winnersPagesCount;n.includes("next-winners-page")&&t<r&&(t++,yield(0,o.setCurrentWinnersPage)(t),(0,o.drawWinners)()),n.includes("prev-winners-page")&&t>=1&&(t--,yield(0,o.setCurrentWinnersPage)(t),(0,o.drawWinners)())}))))}},607:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(i,o){function a(e){try{d(r.next(e))}catch(e){o(e)}}function s(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}d((r=r.apply(e,n||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=t(137),a=t(265),s=t(35),d=t(724),c=t(665),l=t(904),u=t(193),f=t(682),v=t(57),g=t(647),p=t(205),m=t(426),y=t(613),h=i(t(523));t(654),function(){r(this,void 0,void 0,(function*(){yield(0,g.getCars)(h.default.carsPage),yield(0,g.getWinners)(h.default.winnersPage,h.default.sort,h.default.order),(0,o.renderGeneralContent)(),(0,p.setPaginationDisabled)(),(0,a.createNewCar)(),(0,s.selectCar)(),(0,d.removeCar)(),(0,c.generateCars)(),(0,l.carsPagination)(),(0,u.engineControl)(),(0,f.raceAll)(),(0,v.resetAll)(),(0,p.toogleView)(),(0,m.winnersPagination)(),(0,y.sortingWinners)()}))}()},795:(e,n,t)=>{e.exports=t.p+"f37e448b601670edd8ae.svg"}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.nc=void 0,t(607)})();